<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>&#x2F;Volumes&#x2F;Data&#x2F;work&#x2F;node_work&#x2F;well_css&#x2F;public&#x2F;lib&#x2F;base&#x2F;base.js - Well</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Well"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0测试</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Base.BASE.html">Base.BASE</a></li>
            
                <li><a href="..&#x2F;classes/Base.draw.Line.html">Base.draw.Line</a></li>
            
                <li><a href="..&#x2F;classes/Base.template.html">Base.template</a></li>
            
                <li><a href="..&#x2F;classes/X.ClassLoader.html">X.ClassLoader</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/draw.html">draw</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: &#x2F;Volumes&#x2F;Data&#x2F;work&#x2F;node_work&#x2F;well_css&#x2F;public&#x2F;lib&#x2F;base&#x2F;base.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * @auther xmzhu2
 * 用来处理OO对象，创建和生成类
 *&#x2F;

(function(export_){

    var _$ =  export_.Ember.Object,
        createMethod = &#x27;extend&#x27;,
        produceMethod =&#x27;create&#x27;,

        util = export_._||{},
        $  = renderEngine = export_.$ ;
    var console = _$.Logger || export_.console;
    var ajax = $.ajax;

    &#x2F;**
     * 基础类，专注与类的创建和生产&lt;br&#x2F;&gt;
     * 采用的类框架目前是Ember，可以通过配置去完成修改生成框架&lt;br&#x2F;&gt;
     * 可以采用X代替
     * @class BASE
     * @static
     *&#x2F;
    var base = export_.BASE||{};

    &#x2F;**
     * 工具类&lt;br&#x2F;&gt;
     * 默认采用的是&lt;a href=&#x27;javascript:void(0)&#x27; onclick=&quot;window.open(&#x27;http:&#x2F;&#x2F;underscorejs.org&#x27;)&quot;&gt;UNDERSCORE.js&lt;&#x2F;a&gt;
     * &lt;br&#x2F;&gt;如果没有引入，则为空对象，并且后续可能会为他新加入的功能。
     * @attribute Util
     * @type _
     *&#x2F;
    base.Util = util;

    &#x2F;**
     * 控制台
     * @attribute console
     * @type {*}
     *&#x2F;
    base.console = console;

    &#x2F;**
     * 渲染引擎&lt;br&#x2F;&gt;
     * 替换引擎必须要有jquery的渲染方法
     * @default jQuery
     * @attribute renderEngine
     * @type {*|Function}
     *&#x2F;
    base.renderEngine = base.$ = renderEngine;

    &#x2F;**
     * 用来创建对象的框架实体
     * @attribute _$
     * @default Ember.Object
     * @type {Ember.Object}
     * @private
     *&#x2F;
    base._$ = _$;

    &#x2F;**
     * 用来创建对象框架生成类的方法名称
     * @attribute createMethod
     * @default &#x27;entend&#x27;
     * @type {String}
     *&#x2F;
    base.createMethod = createMethod;

    &#x2F;**
     * 创建出来类生成实体对象的方法
     * @attribute produceMethod
     * @default &#x27;create&#x27;
     * @type {String}
     *&#x2F;
    base.produceMethod = produceMethod;

    &#x2F;**
     * 当前页面origin
     * @attribute BasePath
     * @type {String}
     *&#x2F;
    base.basePath = export_.location.origin;

    &#x2F;**
     * 定义一个对象，允许继承&lt;br&#x2F;&gt;
     * 默认采用Ember框架做类实现，也可以通过配置自由定义&lt;br&#x2F;&gt;
     * 为每个生成的类都默认生成了一个 &lt;span style=&quot;color:red&quot;&gt;produce&lt;&#x2F;span&gt;方法，用来创建实体
     * @method define
     * @static
     * @param {String} className 创建类名
     * @param {Object} config 创建参数
     * @param {Function} callback创建类完成后的回调
     *&#x2F;
    base.define = function(className,config,callback){

        __devLog(&#x27;define : &#x27;+className);

        config = config || {};
        var ns = __namespace(className);
        var baseClass = __getClass(config.extend);
        &#x2F;&#x2F;todo 这里需要根据requires自动加载需要的类（模块--此功能待定）
        config.requires = config.requires || [];
        if(config.extend)
            config.requires.push(config.extend);
        base.require(config.requires, function () {
            base.__define(ns, baseClass, config, callback);
            base.Loader.add(className);

            __devLog(&#x27;define end: &#x27;+className);


        })
    };

    &#x2F;&#x2F;初始化没有load时候默认的require方法
    base.require = function(args,callback){
        callback();
    }

    &#x2F;**
     * 定义一个类
     * @method __define
     * @param ns 命名空间
     * @param baseClass 基础类
     * @param config 参数
     * @param callback 回调
     * @private
     *&#x2F;
    base.__define = function(ns,baseClass,config,callback){
        &#x2F;&#x2F;创建类
        var pC = ns.namespace[ns.className] = baseClass[createMethod](config);
        &#x2F;&#x2F;为类提供产生实例的方法 &#x2F;&#x2F;todo 这里需要提供一个类的实例管理器
        pC.produce = function(conf,callback){
            var createObj = pC[produceMethod](conf);
            if(callback) callback;
            return createObj;
        }

        &#x2F;&#x2F;完成后回调
        if(callback) callback();
    }

    &#x2F;**
     * 同jquery的ajax，采用其实现
     * @method ajax
     * @type {*}
     *&#x2F;
    base.ajax = ajax;

    &#x2F;**
     * 得到父类
     * @param className
     * @return {*}
     * @private
     *&#x2F;
    function __getClass(className){
        var _ns;
        if(className &amp;&amp; (_ns = __findNamespace(className))){
            return _ns.namespace[_ns.className];
        }
        return _$;
    }

    &#x2F;**
     * 通过类名找到类的命名空间&lt;span style=&#x27;color:red&#x27;&gt;（未公开）&lt;&#x2F;span&gt;
     *
     * @method findNamespace
     * @param {String} className 类名称
     * @param {Object} scrop 作用域
     * @return {Object} 命名空间{namespace:&#x27;&#x27;,className:&#x27;&#x27;}
     * @private
     *&#x2F;
    function __findNamespace(className,scrop){
        var _namespaceArr = className.split(&#x27;.&#x27;);
        var _namespace = scrop || export_;
        for(var i = 0 ; i &lt; _namespaceArr.length -1 ; i++){
            if(!(_namespace = _namespace[_namespaceArr[i]])){
                return false ;
            }
        }
        return {namespace:_namespace,className:_namespaceArr[_namespaceArr.length -1]};;
    }

    &#x2F;**
     * 用来分割和保存命名空间 &lt;span style=&#x27;color:red&#x27;&gt;（未公开）&lt;&#x2F;span&gt;&lt;br&#x2F;&gt;
     *(如果有就返回已经存在的，如果没有就生成一个命名空间)
     * @method namespace
     * @param {String} className 类名称
     * @return {Object} 命名空间{namespace:&#x27;&#x27;,className:&#x27;&#x27;}
     * @private
     *&#x2F;
    function __namespace(className,scrop){
        var _namespaceArr = className.split(&#x27;.&#x27;);
        var _namespace = scrop || export_;
        for(var i = 0 ; i &lt; _namespaceArr.length - 1 ; i++){
            _namespace = _namespace[_namespaceArr[i]]?_namespace[_namespaceArr[i]]:(_namespace[_namespaceArr[i]]={});
        }
        return {namespace:_namespace,className:_namespaceArr[_namespaceArr.length -1]};
    }

    &#x2F;*私有方法*&#x2F;
    base.__getClass = __getClass;
    base.__findNamespace =__findNamespace;
    base.__namespace = __namespace;

    function __devLog(text){
        if(base.dev &amp;&amp; console){
            console.log(text);
        }
    }

    export_.__devLog =__devLog;
    export_.BASE = base;
    export_.X = base;

})(window)
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
